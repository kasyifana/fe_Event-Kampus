<div class="home-container">
  <!-- HERO / BANNER ATAS -->
  <section class="hero-card">
    <div class="hero-text">
      <h1>Selamat Datang di Event Campus</h1>
      <p>
        Temukan dan daftar berbagai kegiatan menarik di kampus
      </p>
    </div>

    <div class="hero-search-row">
      <div class="search-input-wrapper">
        <span class="search-icon">&#128269;</span>
        <input
          type="text"
          placeholder="Cari Event"
          class="search-input"
          [(ngModel)]="searchTerm"
          (keyup.enter)="onSearch()"
        />
      </div>
      <button
        class="btn-filter"
        type="button"
        (click)="onSearch()"
      >
        &#9881; <span>Filter</span>
      </button>
    </div>

    <div class="category-chips">
      <button
        *ngFor="let cat of categories"
        type="button"
        class="chip"
        [class.chip-active]="cat === activeCategory"
        (click)="setCategory(cat)"
      >
        {{ cat }}
      </button>
    </div>
  </section>

  <!-- LIST EVENT -->
  <section class="event-section">
    <!-- Loading & error -->
    <p *ngIf="isLoading">Memuat event...</p>
    <p *ngIf="!isLoading && errorMessage" class="error-text">
      {{ errorMessage }}
    </p>

    <div
      class="event-grid"
      *ngIf="!isLoading && !errorMessage && events.length > 0"
    >
      <article
        class="event-card"
        *ngFor="let ev of events"
      >
        <div class="event-image-wrapper">
          <span class="event-tag">{{ ev.tag }}</span>
          <img
            [src]="ev.image"
            [alt]="ev.title"
            class="event-image"
            loading="lazy"
            (error)="onImageError(ev)"
          />
        </div>

        <div class="event-content">
          <h2 class="event-title">{{ ev.title }}</h2>
          <p class="event-organizer">{{ ev.organizer }}</p>

          <div class="event-meta">
            <div class="meta-row">
              <span class="meta-icon">&#128197;</span>
              <span>{{ ev.date }}</span>
            </div>
            <div class="meta-row">
              <span class="meta-icon">&#128340;</span>
              <span>{{ ev.time }}</span>
            </div>
            <div class="meta-row">
              <span class="meta-icon">&#128205;</span>
              <span>{{ ev.location }}</span>
            </div>
          </div>

          <div class="event-quota">
            <span>Kuota</span>
            <span class="quota-value">{{ ev.quota }}</span>
          </div>

          <div class="quota-bar">
            <div
              class="quota-bar-fill"
              [style.width.%]="ev.quotaPercent"
            ></div>
          </div>

          <button
            type="button"
            class="btn-detail"
            (click)="onDetail(ev)"
          >
            Lihat Detail dan Daftar
          </button>
        </div>
      </article>
    </div>

    <p *ngIf="!isLoading && !errorMessage && events.length === 0">
      Belum ada event yang tersedia.
    </p>
  </section>
</div>
