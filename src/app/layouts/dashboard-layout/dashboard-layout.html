<div class="user-shell" [class.sidebar-collapsed]="!sidebarOpen">
  <!-- SIDEBAR -->
  <aside class="user-sidebar">
    <div class="sidebar-header">
      <div class="logo-circle">EC</div>
      <div class="brand-text">
        <div class="brand-title">Event Campus</div>
        <div class="brand-subtitle">Mahasiswa</div>
      </div>
    </div>

    <nav class="sidebar-nav">
      <a routerLink="/home" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="nav-item"
        (click)="onNavClick()">
        <span class="nav-icon">ğŸ </span>
        <span class="nav-label">Beranda</span>
      </a>

      <a routerLink="/event-saya" routerLinkActive="active" class="nav-item" (click)="onNavClick()">
        <span class="nav-icon">ğŸ“…</span>
        <span class="nav-label">Event Saya</span>
      </a>

      <a routerLink="/notifikasi" routerLinkActive="active" class="nav-item" (click)="onNavClick()">
        <span class="nav-icon">ğŸ””</span>
        <span class="nav-label">Notifikasi</span>
      </a>

      <a routerLink="/whitelist-request" routerLinkActive="active" class="nav-item" (click)="onNavClick()">
        <span class="nav-icon">ğŸ¢</span>
        <span class="nav-label">Jadi Organisasi</span>
      </a>
    </nav>
  </aside>

  <!-- MAIN AREA (navbar + konten halaman) -->
  <div class="user-main">
    <!-- TOP NAVBAR -->
    <header class="user-topbar">
      <button class="menu-btn" type="button" (click)="toggleSidebar()">
        â˜°
      </button>

      <div class="topbar-center">
        <div class="topbar-title">Event Campus</div>
        <div class="topbar-subtitle">Kegiatan Mahasiswa UII</div>
      </div>

      <div class="topbar-right">
        <button class="icon-btn" type="button">ğŸ””</button>

        <div class="user-chip" (click)="toggleProfileMenu()">
          <div class="user-avatar">{{ currentUser?.full_name?.charAt(0) || 'U' }}</div>
          <div class="user-info">
            <div class="user-name">{{ currentUser?.full_name || 'Guest' }}</div>
            <div class="user-role">{{ currentUser?.role || 'Visitor' }}</div>
          </div>

          <!-- DROPDOWN MENU -->
          <div class="profile-dropdown" *ngIf="showProfileMenu">
            <div class="dropdown-item" (click)="logout()">
              <span class="icon">ğŸšª</span> Logout
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- KONTEN HALAMAN -->
    <main class="user-content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>